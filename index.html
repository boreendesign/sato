<html>
<head>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>
  <script src="http://pagination.js.org/dist/2.1.3/pagination.min.js"></script>
  <link href="src/pagination.css" rel="stylesheet" type="text/css">

  <script>
    var config = {
      apiKey: "AIzaSyDUVkFxXhMUjzPAgaO7vKR_nsMHnmhZVeM",
      authDomain: "sato-reviews.firebaseapp.com",
      databaseURL: "https://sato-reviews.firebaseio.com",
      projectId: "sato-reviews",
      storageBucket: "sato-reviews.appspot.com",
      messagingSenderId: "798049340572"
    };
    firebase.initializeApp(config);
    var ref = firebase.database().ref();
  </script>
</head>

<body>
  <div id="data-container"></div>
  <div id="pagination-container"></div>

  <script>

  ref.on("value", function(snapshot) {
    $('#pagination-container').pagination({
        dataSource: snapshot.val().posts,
        pageSize:3,
        callback: function(data, pagination) {
            var html = simpleTemplating(data);
            $('#data-container').html(html);
        }
    })
     console.log(snapshot.val());
  }, function (error) {
     console.log("Error: " + error.code);
  });

    function simpleTemplating(data) {
        var html = '<div class = "container">';
        $.each(data, function(index, item){
            html += '<div class="review"><div class = "review_name">'+ item.name +'</div>';
            html += '<div class = "review_desc">'+ item.review +'</div></div>';
        });
        html += '</div>';
        return html;
    }
  </script>
</body>
</html>
